diff --git a/engine/include/engine/vr_viewer.h b/engine/include/engine/vr_viewer.h
index 1343b057..c112deac 100644
--- a/engine/include/engine/vr_viewer.h
+++ b/engine/include/engine/vr_viewer.h
@@ -23,12 +23,13 @@ public:
   void render();
 
   void setOnTracking(const std::function<void(const std::vector<Pose>& left, const std::vector<Pose>& right)>& onTracking);
+#ifdef USE_OPENXR
   void setOnControllerStateUpdate(const std::function<void(const ControllerState &)> onControllerStateUpdate);
 
   void addFixedCameraPos(const std::string &name, const Vec3 &p);
   void removeFixedCameraPos(const std::string &name);
   void switchCameraPos(const std::string &name = "");
-
+#endif
   ~VRViewer();
 
 private:
diff --git a/engine/src/vr_viewer.cpp b/engine/src/vr_viewer.cpp
index ba38e7a3..4d6c8dd2 100644
--- a/engine/src/vr_viewer.cpp
+++ b/engine/src/vr_viewer.cpp
@@ -32,6 +32,7 @@ namespace sapien::engine {
     mRenderWindow->setOnTracking(onTracking);
   }
 
+#ifdef USE_OPENXR
   void VRViewer::setOnControllerStateUpdate(const std::function<void(const ControllerState &)> onControllerStateUpdate) {
     mRenderWindow->setOnControllerStateUpdate(onControllerStateUpdate);
   }
@@ -47,6 +48,7 @@ namespace sapien::engine {
   void VRViewer::switchCameraPos(const std::string &name) {
     mRenderWindow->switchCameraPos(name);
   }
+#endif
 
   VRViewer::~VRViewer() {
 
diff --git a/python/CMakeLists.txt b/python/CMakeLists.txt
index db48f0a0..8c32417a 100644
--- a/python/CMakeLists.txt
+++ b/python/CMakeLists.txt
@@ -10,6 +10,8 @@ else()
     set(CMAKE_CXX_FLAGS_RELEASE "-O3 -g0 -Wall  -std=c++20")
 endif()
 
+set(CMAKE_INSTALL_RPATH "@loader_path/libs")
+set(CMAKE_BUILD_WITH_INSTALL_RPATH TRUE)
 
 if (CMAKE_BUILD_TYPE STREQUAL "Debug")
     add_definitions(-D_DEBUG)
@@ -33,7 +35,7 @@ find_package(sapien REQUIRED)
 
 file(GLOB_RECURSE PYBIND_SRC "pybind/*.cpp")
 pybind11_add_module(pysapien ${PYBIND_SRC})
-target_link_libraries(pysapien PRIVATE sapien::sapien eigen)
+target_link_libraries(pysapien PRIVATE sapien::sapien eigen ${PYTHON_LIBRARIES})
 target_compile_definitions(pysapien PRIVATE PYBIND11_USE_SMART_HOLDER_AS_DEFAULT)
 
 if (MSVC)
diff --git a/setup.py b/setup.py
index bd21283f..c3cf5d25 100644
--- a/setup.py
+++ b/setup.py
@@ -141,8 +141,9 @@ def build_sapien(sapien_source_dir, sapien_build_dir):
         "-DCMAKE_MSVC_RUNTIME_LIBRARY=MultiThreaded",
     ]
     
-    if args.macOS:
-        cmake_args += ["-DCMAKE_TOOLCHAIN_FILE=toolchains/macos.toolchain.cmake"]
+    # if args.macOS:
+    #     cmake_args += ["-DCMAKE_TOOLCHAIN_FILE=toolchains/macos.toolchain.cmake"]
+    cmake_args += ["-DCMAKE_TOOLCHAIN_FILE=toolchains/android.toolchain.cmake"]
 
     if sys.platform == "win32":
         cmake_args += [f"-DBUILD_TESTING=Off"]
@@ -285,18 +286,19 @@ class CMakeBuild(build_ext):
 
         # provide oidn for linux
         if platform.system() == "Linux":
-            for folder in ["lib", "lib64"]:
-                library_dir = os.path.join(sapien_install_dir, folder)
-                if not os.path.exists(library_dir):
-                    continue
-                print("copy library from", library_dir)
-                for lib in os.listdir(library_dir):
-                    if lib in [
-                        "libOpenImageDenoise.so.2.0.1",
-                        "libOpenImageDenoise_core.so.2.0.1",
-                        "libOpenImageDenoise_device_cuda.so.2.0.1",
-                    ]:
-                        shutil.copy(os.path.join(library_dir, lib), oidn_library_path)
+            print("---provide oidn for linux")
+            # for folder in ["lib", "lib64"]:
+            #     library_dir = os.path.join(sapien_install_dir, folder)
+            #     if not os.path.exists(library_dir):
+            #         continue
+            #     print("copy library from", library_dir)
+            #     for lib in os.listdir(library_dir):
+            #         if lib in [
+            #             "libOpenImageDenoise.so.2.0.1",
+            #             "libOpenImageDenoise_core.so.2.0.1",
+            #             "libOpenImageDenoise_device_cuda.so.2.0.1",
+            #         ]:
+            #             shutil.copy(os.path.join(library_dir, lib), oidn_library_path)
 
     def copy_assets(self, ext):
         vulkan_shader_path = os.path.join(self.build_lib, "sapien", "vulkan_shader")
@@ -309,14 +311,22 @@ class CMakeBuild(build_ext):
         # copy dynamic libs
         if platform.system() == "Darwin":
             sapien_install_dir = os.path.join(self.sapien_build_dir, "_sapien_install")
-            dy_libs_path = os.path.join(self.build_lib, "sapien", "libs")
+            dy_libs_path = os.path.join(self.uild_lib, "sapien", "libs")
             dy_source_paths = [
                 os.path.join(sapien_install_dir, "lib/libsapien.dylib"),
                 os.path.join(sapien_install_dir, "lib/libsvulkan2.dylib"),
-                os.path.join(ext.sourcedir, "apple/macOS/physx5/bin/mac.x86_64/release/libPhysX_64.dylib"),
-                os.path.join(ext.sourcedir, "apple/macOS/physx5/bin/mac.x86_64/release/libPhysXCommon_64.dylib"),
-                os.path.join(ext.sourcedir, "apple/macOS/physx5/bin/mac.x86_64/release/libPhysXCooking_64.dylib"),
-                os.path.join(ext.sourcedir, "apple/macOS/physx5/bin/mac.x86_64/release/libPhysXFoundation_64.dylib"),
+            ]
+            if os.path.exists(dy_libs_path):
+                shutil.rmtree(dy_libs_path)
+            os.makedirs(dy_libs_path)
+            for lib in dy_source_paths:
+                shutil.copy(lib, dy_libs_path)
+        if platform.system() == "Linux":
+            sapien_install_dir = os.path.join(self.sapien_build_dir, "_sapien_install")
+            dy_libs_path = os.path.join(self.uild_lib, "sapien", "libs")
+            dy_source_paths = [
+                os.path.join(sapien_install_dir, "lib/libsapien.so"),
+                os.path.join(sapien_install_dir, "lib/libsvulkan2.so"),
             ]
             if os.path.exists(dy_libs_path):
                 shutil.rmtree(dy_libs_path)
@@ -326,6 +336,7 @@ class CMakeBuild(build_ext):
 
         # provide Vulkan libraries for linux
         if platform.system() == "Linux" or platform.system() == "Darwin":
+            print("---provide Vulkan libraries for linux")
             vulkan_library_path = os.path.join(
                 self.build_lib, "sapien", "vulkan_library"
             )
@@ -350,7 +361,8 @@ class CMakeBuild(build_ext):
 
     def build_extension(self, ext):
         if platform.system() == "Linux":
-            self.build_pinocchio(ext)
+            print("---build linux build extension")
+            # self.build_pinocchio(ext)
         self.build_pybind(ext)
         self.copy_assets(ext)
 
diff --git a/toolchains/android.toolchain.cmake b/toolchains/android.toolchain.cmake
index 0e1d57bc..bf42ef32 100644
--- a/toolchains/android.toolchain.cmake
+++ b/toolchains/android.toolchain.cmake
@@ -24,5 +24,4 @@ set(CMAKE_Fortran_COMPILER "" CACHE INTERNAL "Set Fortran compiler")
 
 set(USE_IMGUI OFF CACHE INTERNAL "Use imgui")
 set(USE_GLFW OFF CACHE INTERNAL "Use glfw")
-set(VK_USE_PLATFORM_ANDROID_KHR ON CACHE INTERNAL "Vulkan setting - Use platform Android")
-set(USE_CPP_WRAPPER ON CACHE INTERNAL "Use cpp wrapper")
\ No newline at end of file
+set(VK_USE_PLATFORM_ANDROID_KHR ON CACHE INTERNAL "Vulkan setting - Use platform Android")
\ No newline at end of file
